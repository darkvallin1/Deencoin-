import zipfile
import os

# Recreate file content since code execution environment was reset
index_html = """<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DEENCOIN Airdrop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>
<body>
  <header>
    <h1>üïå DEENCOIN AIRDROP</h1>
    <p id="welcome">Please sign in to earn rewards</p>
    <button id="btn-signin">üîê Sign in with Google</button>
    <div id="balance" style="margin-top:10px;"></div>
  </header>
  <div class="task-container" id="tasks" style="display:none;"></div>
  <script src="script.js"></script>
</body>
</html>"""

style_css = """body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: #f4f9f4;
  color: #222;
}
header {
  background: #0c5c4c;
  color: #fff;
  text-align: center;
  padding: 20px;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}
header h1 {
  margin: 0;
}
#btn-signin {
  margin-top: 10px;
  padding: 10px 20px;
  background: #fff;
  border: none;
  color: #0c5c4c;
  font-weight: bold;
  border-radius: 10px;
  cursor: pointer;
}
.task-container {
  max-width: 600px;
  margin: 30px auto;
  padding: 0 15px;
}
.task-card {
  background: #fff;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 15px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.task-title {
  font-weight: bold;
}
.btn {
  padding: 8px 14px;
  background: #198754;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.btn:hover {
  background: #157347;
}"""

script_js = """const firebaseConfig = {
  apiKey: "AIzaSyBYWG_w6ir80RqN-kd6OecVFwxoDnavbUI",
  authDomain: "deencoin-1b645.firebaseapp.com",
  databaseURL: "https://deencoin-1b645-default-rtdb.firebaseio.com/",
  projectId: "deencoin-1b645"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

document.getElementById("btn-signin").onclick = () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider);
};

auth.onAuthStateChanged(user => {
  if (user) {
    document.getElementById("welcome").textContent = `Welcome, ${user.displayName}`;
    document.getElementById("btn-signin").style.display = "none";
    loadTasks(user.uid);
    updateBalance(user.uid);
  }
});

const TASKS = [
  { id: "daily", title: "üìÖ Daily Check-in", reward: 2, url: "#" },
  { id: "yt_sub", title: "üì∫ Subscribe YouTube", reward: 10, url: "https://youtube.com" },
  { id: "yt_watch", title: "üé• Watch YouTube Video", reward: 2, url: "https://youtube.com" },
  { id: "fb_follow", title: "üìò Follow Facebook Page", reward: 10, url: "https://facebook.com" },
  { id: "fb_watch", title: "üé¨ Watch Facebook Video", reward: 2, url: "https://facebook.com" },
  { id: "tw_follow", title: "üê¶ Follow Twitter", reward: 10, url: "https://twitter.com" },
  { id: "tw_watch", title: "üìπ Watch Twitter Video", reward: 2, url: "https://twitter.com" },
  { id: "tg_join", title: "üí¨ Join Telegram Channel", reward: 10, url: "https://t.me" },
  { id: "tg_group", title: "üë• Join Telegram Group", reward: 10, url: "https://t.me" },
  { id: "site_visit", title: "üåê Visit Website", reward: 1, url: "https://google.com" }
];

function loadTasks(uid) {
  const container = document.getElementById("tasks");
  container.style.display = "block";
  container.innerHTML = "";
  TASKS.forEach(t => {
    const card = document.createElement("div");
    card.className = "task-card";
    card.innerHTML = `
      <div>
        <div class="task-title">${t.title}</div>
        <small>+${t.reward} DC</small>
      </div>
      <button class="btn" onclick="doTask('${uid}','${t.id}','${t.url}',${t.reward})">Earn</button>
    `;
    container.appendChild(card);
  });
}

function doTask(uid, taskId, url, reward) {
  const taskRef = db.ref(`users/${uid}/tasks/${taskId}`);
  taskRef.once('value').then(snap => {
    if (snap.exists()) {
      alert("‚úÖ Already Completed");
    } else {
      taskRef.set(true);
      const balRef = db.ref(`users/${uid}/balance`);
      balRef.transaction(current => (current || 0) + reward);
      window.open(url, '_blank');
    }
  });
}

function updateBalance(uid) {
  const balRef = db.ref(`users/${uid}/balance`);
  balRef.on('value', snap => {
    const balance = snap.val() || 0;
    document.getElementById("balance").textContent = `üí∞ Balance: ${balance} DC`;
  });
}
"""

# Create the folder and files
folder_path = "/mnt/data/DEENCOIN_HTML"
os.makedirs(folder_path, exist_ok=True)

with open(os.path.join(folder_path, "index.html"), "w") as f:
    f.write(index_html)
with open(os.path.join(folder_path, "style.css"), "w") as f:
    f.write(style_css)
with open(os.path.join(folder_path, "script.js"), "w") as f:
    f.write(script_js)

# Zip the folder
zip_path = "/mnt/data/DEENCOIN_HTML_Folder.zip"
with zipfile.ZipFile(zip_path, 'w') as zipf:
    for root, _, files in os.walk(folder_path):
        for file in files:
            zipf.write(os.path.join(root, file), arcname=file)

zip_path
